extends layout

block content
  form.form(method="POST", action="/")
    h1 Débobardeur
    textarea.input(
      rows="13"
      cols="80"
      id="text_with_bobards_id"
      name="text_with_bobards"
      autofocus
    )
    br
    br
    input(type="submit" value="Débobardiser (⌘+↵)" id="submit_button" class="button-4" role="button")
    p.preview #{text}
  script.
    const textarea = document.querySelector("#text_with_bobards_id");
    textarea.addEventListener('keydown', (event) => {
      if ((event.metaKey || event.ctrlKey) && event.key === 'Enter') {
        event.preventDefault();
        document.querySelector("#submit_button").click();
      }
    })
  br